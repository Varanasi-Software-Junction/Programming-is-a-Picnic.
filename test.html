<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced 3D Flutter Animation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            perspective: 1000px; /* Add perspective for 3D effect */
        }
        #myElement {
            background-color: #f0f0f0;
            padding: 20px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
            transition: opacity 0.5s ease, transform 0.5s ease;
            transform-origin: center;
        }
        .hidden {
            opacity: 0;
            transform: rotateY(90deg) scale(0.8); /* Rotate and scale down */
            pointer-events: none; /* Prevent interaction when hidden */
        }
        .visible {
            opacity: 1;
            transform: rotateY(0deg) scale(1.1); /* Bounce effect with scale up */
            transition: opacity 0.5s ease, transform 0.5s ease; /* Smooth transition */
        }
    </style>
</head>
<body>

<div id="myElement" class="visible">This is my item!</div>
<button id="toggleButton">Toggle Display</button>

<script>
    const myElement = document.getElementById('myElement');
    const toggleButton = document.getElementById('toggleButton');

    toggleButton.addEventListener('click', () => {
        if (myElement.classList.contains('hidden')) {
            // Element is currently hidden, show it
            myElement.classList.remove('hidden');
            myElement.classList.add('visible');
            setTimeout(() => {
                myElement.style.display = '';
            }, 500); // Match the duration of the CSS transition
        } else {
            // Element is currently visible, hide it
            myElement.style.display = 'block'; // Ensure it's visible to animate
            myElement.classList.remove('visible');
            myElement.classList.add('hidden');
            setTimeout(() => {
                myElement.style.display = 'none';
            }, 500); // Match the duration of the CSS transition
        }
    });
</script>

</body>
</html>
